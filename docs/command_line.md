---
title: Command line
categories:
  - Shell
---

## List (ls)

### 结构

```shell
  ls [options] [paths]
```

### Options

| 参数 | 说明                               |
| ---- | ---------------------------------- |
| `-1` | 一个入口一行                       |
| `-l` | 显示详细信息，一个文件一行         |
| `-o` | 显示详细信息，不分组               |
| `-C` | 多列显示水平排序                   |
| `-x` | 多列显示垂直排序                   |
| `-F` | 目录的后面会显示 `/`               |
| `-G` | 带颜色 [                           |
| `-R` | 递归显示                           |
| `-a` | 显示隐藏文件                       |
| `-A` | 显示隐藏文件，但不包含 `.` 和 `..` |

### 排序

| 参数 | 说明                                |
| ---- | ----------------------------------- |
| `-r` | 翻转顺序                            |
| `-S` | 按尺寸排序                          |
| `-t` | 按修改时间排序                      |
| `-u` | 按访问时间排序                      |
| `-U` | 按创建时间排序                      |
| `-c` | 按时间状态改变排序                  |
| `-h` | 人类可读样式（比如 3000 显示为 3k） |

## Tail

### 结构

```shell
  tail [-F | -f | -r] [-bN | -cN | -nN] [file ...]
```

### 模式

| 参数 | 说明                         |
| ---- | ---------------------------- |
| `-f` | 跟踪文件变化，输出在控制台中 |
| `-F` | 根据文件名输出               |
| `-r` | 顺序反向                     |

### Options

| 参数  | 说明             |
| ----- | ---------------- |
| `-bN` | 第 N\*512 个字节 |
| `-cN` | 第 N 个字节      |
| `-nN` | 第 N 行          |
| `+N`  | 从第几行开始     |

## Sudo

### 结构

```shell
  sudo [options] <command>
```

### Options

| 参数 | 说明                 |
| ---- | -------------------- |
| `-l` | 列出所有允许的命令   |
| `-A` | 使用 $SUDO_ASKPASS   |
| `-b` | 后台运行             |
| `-E` | 保存环境             |
| `-H` | 使用目标的 $HOME     |
| `-n` | 不提示密码           |
| `-P` | 保存组               |
| `-S` | 从标准输入中读取密码 |

### 文件描述符

| 参数    | 说明                     |
| ------- | ------------------------ |
| `-C fd` | 关闭所有打开的文件描述符 |

### 提示

| 参数        | 说明       |
| ----------- | ---------- |
| `-p prompt` | 自定义提示 |

### 交互式

| 参数       | 说明                   |
| ---------- | ---------------------- |
| `-i [cmd]` | 没有变量的交互式 Shell |
| `-s [cmd]` | 交互式 Shell           |
| `-u user`  | 以这个用户执行         |
| `-g group` | 以这个组执行           |

### 时间戳

| 参数 | 说明                    |
| ---- | ----------------------- |
| `-v` | 每 5 分钟验证一次时间戳 |
| `-k` | 不验证时间戳            |
| `-K` | 和 `-k` 一样            |

## wc (Word count 单词数量) {data-columns=1}

```shell
... | wc [options]
```

| 参数 | 说明                           |
| ---- | ------------------------------ |
| `-c` | 字节                           |
| `-l` | 行                             |
| `-m` | 字符（包括多字节的，比如汉字） |
| `-w` | 单词                           |

## 在所有文件中搜索并替换 {data-columns=1}

```shell
  perl -p -i -e 's/hello/HELLO/g' **/*
```

## Grep

### 结构

```shell
grep [options] [pattern] [file ...]
```

### Options

| 参数      | 说明                     |
| --------- | ------------------------ |
| `-A num`  | 打印 `num` 行输出的文本  |
| `-G`      | 基本的正则表达式（默认） |
| `-E`      | 扩展的正则表达式         |
| `-P`      | Perl 正则表达式          |
| `-f file` | --file                   |
| `-F`      | --fixed-strings          |
| `-h`      | --no-filename            |
| `-H`      | --with-filename          |
| `-l`      | --files-with-matches     |
| `-L`      | --files-without-match    |
| `-r, -R`  | --recursive              |
| `-v`      | --invert-match           |
| `-i`      | --ignore-case            |

### 同义词

```shell
  egrep  =>  grep -E
  fgrep  =>  grep -F
```
